(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(54)},25:function(e,t,n){},27:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(19),r=n.n(c),l=(n(25),n(3)),o=n(4),s=n(6),d=n(5),h=n(7),u=n(1),p=(n(27),n(9)),m=n(8),v=n.n(m),b=n(11),f=n(10),_=n.n(f),C="http://localhost:80";function k(e){return Promise.resolve(e.data.data)}function E(e){return Promise.reject(e.message)}function g(e){return _.a.get("".concat(C).concat(e)).then(k,E)}function j(e,t){return _.a.post("".concat(C).concat(e),t).then(k,E)}function O(e,t){return _.a.put("".concat(C).concat(e),t).then(k,E)}function y(e){return _.a.delete("".concat(C).concat(e)).then(k,E)}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!(e&&e.length>0))return t;try{var a=new RegExp(e,"i");return t.filter(function(e){if(n.length>0){return a.test(n.reduce(function(e,t){return e[t]},e))}return a.test(e)})}catch(i){return t}}n(50);var S={id:"",name:""},I=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={provinces:[],searchKey:"",editing:!1,editingId:"",editingData:S},n._handleEditProvince=n._handleEditProvince.bind(Object(u.a)(Object(u.a)(n))),n._handleInputChange=n._handleInputChange.bind(Object(u.a)(Object(u.a)(n))),n._handleCancelClick=n._handleCancelClick.bind(Object(u.a)(Object(u.a)(n))),n._handleUpdateClick=n._handleUpdateClick.bind(Object(u.a)(Object(u.a)(n))),n._handleDeleteClick=n._handleDeleteClick.bind(Object(u.a)(Object(u.a)(n))),n._handleCreateProvinceClick=n._handleCreateProvinceClick.bind(Object(u.a)(Object(u.a)(n))),n._handleShowDistricts=n._handleShowDistricts.bind(Object(u.a)(Object(u.a)(n))),n._handleSearchChange=n._handleSearchChange.bind(Object(u.a)(Object(u.a)(n))),n}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g("/apis/province_api.php");case 3:t=e.sent,this.setState({provinces:t}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),alert(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"_handleEditProvince",value:function(e){var t=this;return function(){var n=t.state.provinces.find(function(t){return t.id===e});t.setState({editing:!0,editingId:e,editingData:n})}}},{key:"_handleInputChange",value:function(e,t){var n=e.target.value;this.setState(function(e){var a=e.editingData,i=Object(p.a)({},a);return i[t]=n,Object(p.a)({},e,{editingData:i})})}},{key:"_handleCancelClick",value:function(){this._resetForm()}},{key:"_handleUpdateClick",value:function(){var e,t,n=this,a=this.state,i=a.editingId,c=a.editingData,r=a.provinces;(e=i,t=c,O("/apis/province_api.php?id=".concat(e),t)).then(function(e){var t=r.findIndex(function(e){return e.id===i});t>=0&&(r.splice(t,1,e),n.setState({provinces:r}),n._resetForm())},function(e){console.error(e),alert(e)})}},{key:"_handleDeleteClick",value:function(e){var t=this;return function(){var n=t.state.provinces;(function(e){return y("/apis/province_api.php?id=".concat(e))})(e).then(function(){var a=n.findIndex(function(t){return t.id===e});a>=0&&(n.splice(a,1),t.setState({provinces:n}),t._resetForm())},function(e){console.error(e),alert(e)})}}},{key:"_handleCreateProvinceClick",value:function(){var e,t=this,n=this.state,a=n.editingData,i=n.provinces;(e=a,j("/apis/province_api.php",e)).then(function(e){i.push(e),t.setState({provinces:i}),t._resetForm()},function(e){console.error(e),alert(e)})}},{key:"_handleShowDistricts",value:function(e,t){var n=this;return function(){n.props.onShowDistricts(e,t)}}},{key:"_handleSearchChange",value:function(e){var t=e.target.value;this.setState({searchKey:t})}},{key:"_resetForm",value:function(){this.setState({editing:!1,editingId:"",editingData:S})}},{key:"render",value:function(){var e=this,t=this.state,n=t.searchKey,a=t.editing,c=t.editingData,r=D(n,this.state.provinces,["name"]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"Danh s\xe1ch T\u1ec9nh/Th\xe0nh ph\u1ed1"),i.a.createElement("div",{className:"province-control"},i.a.createElement("div",{className:"control-item"},i.a.createElement("input",{type:"text",placeholder:"T\xecm ki\u1ebfm theo t\xean t\u1ec9nh",value:n,onChange:this._handleSearchChange})),i.a.createElement("div",{className:"control-item"},i.a.createElement("label",{htmlFor:"province-id-input"},"ID T\u1ec9nh:\xa0"),i.a.createElement("input",{id:"province-id-input",type:"text",value:c.id,onChange:function(t){e._handleInputChange(t,"id")}})),i.a.createElement("div",{className:"control-item"},i.a.createElement("label",{htmlFor:"province-name-input"},"T\xean T\u1ec9nh:\xa0"),i.a.createElement("input",{id:"province-name-input",type:"text",value:c.name,onChange:function(t){e._handleInputChange(t,"name")}})),a?i.a.createElement("div",null,i.a.createElement("button",{onClick:this._handleUpdateClick},"C\u1eadp nh\u1eadt"),"\xa0",i.a.createElement("button",{onClick:this._handleCancelClick},"Quay l\u1ea1i")):i.a.createElement("button",{onClick:this._handleCreateProvinceClick},"Th\xeam")),i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"STT"),i.a.createElement("th",null,"ID"),i.a.createElement("th",null,"T\xean"),i.a.createElement("th",null,"S\u1ed1 l\u01b0\u1ee3ng huy\u1ec7n"),i.a.createElement("th",null,"H\xe0nh \u0111\u1ed9ng"))),i.a.createElement("tbody",null,r.map(function(t,n){return i.a.createElement("tr",{key:t.id},i.a.createElement("td",null,n+1),i.a.createElement("td",null,t.id),i.a.createElement("td",null,t.name),i.a.createElement("td",null,t.districts),i.a.createElement("td",null,i.a.createElement("button",{onClick:e._handleShowDistricts(t.id,t.name)},"DS Huy\u1ec7n"),"\xa0",i.a.createElement("button",{onClick:e._handleEditProvince(t.id)},"S\u1eeda"),"\xa0",i.a.createElement("button",{onClick:e._handleDeleteClick(t.id)},"Xo\xe1")))}))))}}]),t}(a.Component);n(52);var w={id:"",name:""},x=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={districts:[],searchKey:"",editing:!1,editingId:"",editingData:w},n._handleEditDistrict=n._handleEditDistrict.bind(Object(u.a)(Object(u.a)(n))),n._handleInputChange=n._handleInputChange.bind(Object(u.a)(Object(u.a)(n))),n._handleCancelClick=n._handleCancelClick.bind(Object(u.a)(Object(u.a)(n))),n._handleUpdateClick=n._handleUpdateClick.bind(Object(u.a)(Object(u.a)(n))),n._handleDeleteClick=n._handleDeleteClick.bind(Object(u.a)(Object(u.a)(n))),n._handleCreateDistrictClick=n._handleCreateDistrictClick.bind(Object(u.a)(Object(u.a)(n))),n._handleBackClick=n._handleBackClick.bind(Object(u.a)(Object(u.a)(n))),n._handleSearchChange=n._handleSearchChange.bind(Object(u.a)(Object(u.a)(n))),n}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n=this.props.provinceId||"",g("/apis/district_api.php?province_id=".concat(n));case 3:t=e.sent,this.setState({districts:t}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),alert(e.t0);case 11:case"end":return e.stop()}var n},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"_handleEditDistrict",value:function(e){var t=this;return function(){var n=t.state.districts.find(function(t){return t.id===e});t.setState({editing:!0,editingId:e,editingData:n})}}},{key:"_handleInputChange",value:function(e,t){var n=e.target.value;this.setState(function(e){var a=e.editingData,i=Object(p.a)({},a);return i[t]=n,Object(p.a)({},e,{editingData:i})})}},{key:"_handleCancelClick",value:function(){this._resetForm()}},{key:"_handleUpdateClick",value:function(){var e,t,n=this,a=this.state,i=a.editingId,c=a.editingData,r=a.districts;(e=i,t=c,O("/apis/district_api.php?id=".concat(e),t)).then(function(e){var t=r.findIndex(function(e){return e.id===i});t>=0&&(r.splice(t,1,e),n.setState({districts:r}),n._resetForm())},function(e){console.error(e),alert(e)})}},{key:"_handleDeleteClick",value:function(e){var t=this;return function(){var n=t.state.districts;(function(e){return y("/apis/district_api.php?id=".concat(e))})(e).then(function(){var a=n.findIndex(function(t){return t.id===e});a>=0&&(n.splice(a,1),t.setState({districts:n}),t._resetForm())},function(e){console.error(e),alert(e)})}}},{key:"_handleCreateDistrictClick",value:function(){var e=this,t=this.props.provinceId||"",n=this.state,a=n.editingData,i=n.districts;(function(e,t){return j("/apis/district_api.php?province_id=".concat(e),t)})(t,a).then(function(t){i.push(t),e.setState({districts:i}),e._resetForm()},function(e){console.error(e),alert(e)})}},{key:"_handleBackClick",value:function(){this.props.onBack()}},{key:"_handleSearchChange",value:function(e){var t=e.target.value;this.setState({searchKey:t})}},{key:"_resetForm",value:function(){this.setState({editing:!1,editingId:"",editingData:w})}},{key:"render",value:function(){var e=this,t=this.state,n=t.searchKey,a=t.editing,c=t.editingData,r=D(n,this.state.districts,["name"]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"Danh s\xe1ch Qu\u1eadn/Huy\u1ec7n c\u1ee7a ",this.props.provinceName||""),i.a.createElement("div",{className:"district-control"},i.a.createElement("div",{className:"control-item"},i.a.createElement("button",{onClick:this._handleBackClick},"Tr\u1edf l\u1ea1i danh s\xe1ch T\u1ec9nh"))),i.a.createElement("div",{className:"district-control"},i.a.createElement("div",{className:"control-item"},i.a.createElement("input",{type:"text",placeholder:"T\xecm ki\u1ebfm theo t\xean huy\u1ec7n",value:n,onChange:this._handleSearchChange})),i.a.createElement("div",{className:"control-item"},i.a.createElement("label",{htmlFor:"district-id-input"},"ID Huy\u1ec7n:\xa0"),i.a.createElement("input",{id:"district-id-input",type:"text",value:c.id,onChange:function(t){e._handleInputChange(t,"id")}})),i.a.createElement("div",{className:"control-item"},i.a.createElement("label",{htmlFor:"district-name-input"},"T\xean Huy\u1ec7n:\xa0"),i.a.createElement("input",{id:"district-name-input",type:"text",value:c.name,onChange:function(t){e._handleInputChange(t,"name")}})),a?i.a.createElement("div",null,i.a.createElement("button",{onClick:this._handleUpdateClick},"C\u1eadp nh\u1eadt"),"\xa0",i.a.createElement("button",{onClick:this._handleCancelClick},"Quay l\u1ea1i")):i.a.createElement("button",{onClick:this._handleCreateDistrictClick},"Th\xeam")),i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"STT"),i.a.createElement("th",null,"ID"),i.a.createElement("th",null,"T\xean"),i.a.createElement("th",null,"H\xe0nh \u0111\u1ed9ng"))),i.a.createElement("tbody",null,r.map(function(t,n){return i.a.createElement("tr",{key:t.id},i.a.createElement("td",null,n+1),i.a.createElement("td",null,t.id),i.a.createElement("td",null,t.name),i.a.createElement("td",null,i.a.createElement("button",{onClick:e._handleEditDistrict(t.id)},"S\u1eeda"),"\xa0",i.a.createElement("button",{onClick:e._handleDeleteClick(t.id)},"Xo\xe1")))}))))}}]),t}(a.Component),T=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={showMode:"province",provinceId:"",provinceName:""},n._handleShowProvinces=n._handleShowProvinces.bind(Object(u.a)(Object(u.a)(n))),n._handleShowDistricts=n._handleShowDistricts.bind(Object(u.a)(Object(u.a)(n))),n}return Object(h.a)(t,e),Object(o.a)(t,[{key:"_handleShowProvinces",value:function(){this.setState({provinceId:"",showMode:"province"})}},{key:"_handleShowDistricts",value:function(e,t){this.setState({provinceId:e,provinceName:t,showMode:"district"})}},{key:"_renderComponent",value:function(e){var t=this.state,n=t.provinceId,a=t.provinceName;return{province:i.a.createElement(I,{onShowDistricts:this._handleShowDistricts}),district:i.a.createElement(x,{provinceId:n,provinceName:a,onBack:this._handleShowProvinces})}[e]||null}},{key:"render",value:function(){var e=this.state.showMode;return i.a.createElement("div",{className:"container"},this._renderComponent(e))}}]),t}(a.Component);r.a.render(i.a.createElement(T,null),document.getElementById("root"))}},[[20,2,1]]]);
//# sourceMappingURL=main.78aa03e8.chunk.js.map